{% load static %}

{% for pacote in pacotes %}
<div class="col-md-4">
    <div class="package-card">
        <div class="package-image">
            {% if pacote.imagem %}
                <img src="/media/{{ pacote.imagem }}" alt="{{ pacote.nome }}"
                     class="img-fluid rounded shadow-sm"
                     style="width: 100%; height: 220px; object-fit: cover;">
            {% else %}
                <img src="{% static 'default.jpg' %}" alt="Sem imagem"
                     class="img-fluid rounded shadow-sm"
                     style="width: 100%; height: 220px; object-fit: cover;">
            {% endif %}
        </div>

        <div class="package-body">
            <div class="package-title">{{ pacote.nome }}</div>
            <div class="package-location">{{ pacote.descricao_item|truncatewords:10 }}</div>
            <div class="package-duration">{{ pacote.data_inicio }} → {{ pacote.data_fim }}</div>
            <div class="package-price">desde {{ pacote.preco_total }}€</div>

            <a href="{% url 'pacote_detalhes' pacote.pacote_id %}" class="btn-details">
                Ver Detalhes
            </a>
        </div>
    </div>
</div>
{% endfor %}
